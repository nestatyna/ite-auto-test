# План тестирования REST API агента (agent.exe)

## 1. Введение
Этот документ описывает стратегию тестирования REST API агента `agent.exe` – упрощённой имитации агента системы **САКУРА**.

Цель тестирования – проверить корректность работы API, разработать автоматизированные тесты и составить отчёт по тестированию.

---

## 2. Объект тестирования
Тестируемый объект – REST API агента `agent.exe`, предоставляющий следующие конечные точки (**эндпоинты**):

- `GET /test` – Общая информация о рабочем месте, версия агента, сведения о системе.
- `GET /software` – Информация о программном обеспечении рабочего места.
- `GET /users` – Список пользователей операционной системы.
- `GET /v2/check` – Проверка комплаенс-статуса (случайное значение).

Также добавляются замокированные эндпоинты:
- `GET /proc` – Текущие процессы на РМ.
- `GET /sessions` – Список текущих сессий.
- `GET /screenshots` – Снимок экрана.
---

## 3. Охват тестирования

### 3.1 Функциональное тестирование
Проверяется корректность ответов API на запросы:
- Код ответа (`200 OK`).
- Формат ответа (`JSON`, `null`, ошибки валидации).
- Корректность возвращаемых данных (согласно документации).

---

## 4. Тест-кейсы

### 4.1 Функциональные тест-кейсы
| ID    | Название теста               | Описание | Ожидаемый результат                                      |
|-------|------------------------------|-----------|----------------------------------------------------------|
| TC-01 | Проверка `/test`             | Отправить `GET`-запрос на `/test` | Код `200`, корректные данные                             |
| TC-02 | Проверка `/software`         | Отправить `GET`-запрос на `/software` | Код `200`, корректный JSON                               |
| TC-03 | Проверка `/users`            | Отправить `GET`-запрос на `/users` | Код `200`, список пользователей                          |
| TC-04 | Проверка `/v2/check`         | Отправить `GET`-запрос на `/v2/check` | Код `200`, корректные данные статуса                     |
| TC-05 | Проверка `/proc`             | Отправить `GET`-запрос на `/proc` | Код `200`, корректные данные по текущим процессам на РМ  |
| TC-06 | Проверка `/session`          | Отправить `GET`-запрос на `/session` | Код `200`, корректный список текущих сессий              |
| TC-07 | Проверка `/screenshots`      | Отправить `GET`-запрос на `/screenshots` | Код `200`, корректные данные списка сделанных скриншотов |

Корректные данные - означает, что данные должны соответсвовать структуре данных представленной в документации.

---

## 5. Автоматизация тестирования
- **Инструменты**: Java, TestNG, RestAssured, WireMock.
- **Запуск тестов**:
```sh
./gradlew test
```
- **Отчёт о тестировании**: Найденные баги фиксируются в `BugReports.md`.

---


